function LokasyonDetay(t) { if (void 0 != t) { $("#L_Adi").text($("#Sehirler > option:selected").text()), $("#L_ToplamS").text(parseInt(t.ToplamSandik)).number(!0, 0), $("#L_AcilanS").text(parseInt(t.AcilanSandik)).number(!0, 0), $("#L_KullanilanOy").text(parseInt(t.KullanilanOy)).number(!0, 0), $("#L_GecerliOy").text(parseInt(t.GecerliOy)).number(!0, 0), $("#LokasyonPartiler").slideDown("fast"); var i = (100 * t.AcilanSandik / t.ToplamSandik).toFixed(2); i = i >= 100 ? 100 : i, i = 0 == t.ToplamSandik ? "0" : i, $("#LokasyonAcilanSandik").html(""), $("#LokasyonAcilanSandik").prepend("<span data-provide='circular2' data-fill-color='rgb(41, 89, 213)' data-value='" + i + "' data-radius='47' data-percent='true' data-thickness='21'></span>"); var e = t.Partiler, a = t.GecerliOy, n = 0, o = 0, s = 0, r = "", l = ""; window.location.href.indexOf("YurtDisiENG.html") > -1 ? (r = "Votes", l = "Deputy") : window.location.href.indexOf("YurtDisiAR.html") > -1 ? (r = "عدد الأصوات", l = "النائب") : (r = "Oy Sayısı", l = "Milletvekili"), e.sort(function (t, i) { return parseInt(i.oy) - parseInt(t.oy) }), $("#IlkBesDiv").html(""); for (var c = 0; c < e.length; c++) if (4 > o && "0" != e[c].No) { var d = (100 * e[c].oy / a).toFixed(2); d = d >= 100 ? 100 : d, d = "0" == a ? "0" : d; var u = e[c].No; parseInt(e[c].No) > 20 && (u = 21), "0" != e[c].oy && ($("#IlkBesDiv").append("<div class='LokasyonParti'><div><img src='../images/logo" + u + ".png'></div><div class='OranSonuc'>% " + d + "</div><div class='AlinanOy'><span class='LabelKismi'>" + r + "</span>:<span>" + parseInt(e[c].oy).toLocaleString() + "</span></div></div> "), o++) } else n += parseInt(e[c].oy); s = (100 * parseInt(n) / a).toFixed(2), s = s >= 100 ? 100 : s, s = "0" == a ? "0" : s, "0" != s && "0.00" != s && $("#IlkBesDiv").append("<div class='LokasyonParti'><div><img src='../images/logo0.png'></div><div class='OranSonuc'>% " + s + "</div><div class='AlinanOy'><span class='LabelKismi'>" + r + "</span>:<span>" + parseInt(n).toLocaleString() + "</span></div></div> "), CanvasCizme2() } } function CanvasCizme2() { !function (t, i, e, a) { function n(t, i) { arguments.length && this._init(t, i) } n.prototype = { defaults: { percent: !0, value: 0, maxValue: 100, radius: 32, thickness: 6, backFillColor: "#E4E6F0", fillColor: "#e15656", centerFillColor: "#0A0A0A", decimals: 0, retinaReady: !0 }, _init: function (i, e) { this.element = t(i), this.options = t.extend({}, this.defaults, e, this.element.data()), this.canvas = this._build(), this._draw(this._prepareCanvas(this.canvas)) }, _build: function () { var a = t("<span></span>"), n = e.createElement("canvas"); if (this.element.append(a.clone().addClass("digit-container")).append(a.clone().addClass("canvas-container").append(t(n))).addClass("circular-stat"), !n.getContext) { if ("undefined" == typeof i.G_vmlCanvasManager) return console.log("Your browser does not support HTML5 Canvas, or excanvas.js is missing on IE"), this.element.hide(), !1; n = i.G_vmlCanvasManager.initElement(n) } return n }, _getPixelRatio: function (t) { return (i.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1) }, _prepareCanvas: function (t) { var i = 2 * this.options.radius, e = t.getContext("2d"), e = this._getPixelRatio(e); return t.width = t.height = i * e, e > 1 && (t.style.width = i + "px", t.style.height = i + "px"), t }, _draw: function (i) { var e = i.getContext("2d"), a = this._getPixelRatio(e), n = 2 * (this.options.value / this.options.maxValue) * Math.PI, o = i.width / 2, s = i.height / 2, r = this.options.radius, l = 100 != parseInt(this._getVal()) ? this._getVal().toFixed(2) : this._getVal(); e.save(), e.clearRect(0, 0, i.width, i.height), e.translate(o, s), e.scale(a, a), e.rotate(-Math.PI / 2), e.fillStyle = this.options.backFillColor, e.beginPath(), e.arc(0, 0, r, 0, 2 * Math.PI, !1), e.closePath(), e.fill(), e.fillStyle = this.options.fillColor, e.beginPath(), e.arc(0, 0, r, 0, n, !1), e.lineTo(0, 0), e.closePath(), e.fill(), e.fillStyle = this.options.centerFillColor, e.beginPath(), e.arc(0, 0, r - this.options.thickness, 0, 2 * Math.PI, !1), e.closePath(), e.fill(), e.restore(), t(".digit-container", this.element).css({ lineHeight: 2 * this.options.radius + "px" })[0].innerHTML = this.options.percent ? "<span>%" + l + "</span>" : "<span>" + l + "</span>/" + this.options.maxValue.toFixed(this.options.decimals) }, _getVal: function () { return this.options.percent ? 100 * (this.options.value / this.options.maxValue) : this.options.value }, option: function (i, e) { if (0 === arguments.length) return t.extend({}, this.options); if ("string" == typeof i) { if (e === a) return this.options[i]; switch (i) { case "value": e = Math.max(0, Math.min(e, this.options.maxValue)) } this.options[i] = e, this._draw("radius" === i ? this._prepareCanvas(this.canvas) : this.canvas) } return this } }, t.fn.circularStat = function (i) { var e = "string" == typeof i, o = Array.prototype.slice.call(arguments, 1), s = this; return e && "_" === i.charAt(0) ? s : (this.each(e ? function () { var e = t.data(this, "circular"), n = e && t.isFunction(e[i]) ? e[i].apply(e, o) : e; return n !== e && n !== a ? (s = n, !1) : void 0 } : function () { t.data(this, "circular") || t.data(this, "circular", new n(this, i)) }), s) }, t(function () { t("[data-provide=circular2]").each(function () { var i = t(this); i.circularStat(i.data()) }) }) }(jQuery, window, document) } function CanvasCizme() { !function (t, i, e, a) { function n(t, i) { arguments.length && this._init(t, i) } n.prototype = { defaults: { percent: !0, value: 0, maxValue: 100, radius: 32, thickness: 6, backFillColor: "rgb(199, 199, 199)", fillColor: "#e15656", centerFillColor: "#222", decimals: 0, retinaReady: !0 }, _init: function (i, e) { this.element = t(i), this.options = t.extend({}, this.defaults, e, this.element.data()), this.canvas = this._build(), this._draw(this._prepareCanvas(this.canvas)) }, _build: function () { var a = t("<span></span>"), n = e.createElement("canvas"); if (this.element.append(a.clone().addClass("digit-container")).append(a.clone().addClass("canvas-container").append(t(n))).addClass("circular-stat"), !n.getContext) { if ("undefined" == typeof i.G_vmlCanvasManager) return console.log("Your browser does not support HTML5 Canvas, or excanvas.js is missing on IE"), this.element.hide(), !1; n = i.G_vmlCanvasManager.initElement(n) } return n }, _getPixelRatio: function (t) { return (i.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1) }, _prepareCanvas: function (t) { var i = 2 * this.options.radius, e = t.getContext("2d"), e = this._getPixelRatio(e); return t.width = t.height = i * e, e > 1 && (t.style.width = i + "px", t.style.height = i + "px"), t }, _draw: function (i) { var e = i.getContext("2d"), a = this._getPixelRatio(e), n = 2 * (this.options.value / this.options.maxValue) * Math.PI, o = i.width / 2, s = i.height / 2, r = this.options.radius, l = 100 != parseInt(this._getVal()) ? this._getVal().toFixed(2) : this._getVal(); e.save(), e.clearRect(0, 0, i.width, i.height), e.translate(o, s), e.scale(a, a), e.rotate(-Math.PI / 2), e.fillStyle = this.options.backFillColor, e.beginPath(), e.arc(0, 0, r, 0, 2 * Math.PI, !1), e.closePath(), e.fill(), e.fillStyle = this.options.fillColor, e.beginPath(), e.arc(0, 0, r, 0, n, !1), e.lineTo(0, 0), e.closePath(), e.fill(), e.fillStyle = this.options.centerFillColor, e.beginPath(), e.arc(0, 0, r - this.options.thickness, 0, 2 * Math.PI, !1), e.closePath(), e.fill(), e.restore(), t(".digit-container", this.element).css({ lineHeight: 2 * this.options.radius + "px" })[0].innerHTML = this.options.percent ? "<span>%" + l + "</span>" : "<span>" + l + "</span>/" + this.options.maxValue.toFixed(this.options.decimals) }, _getVal: function () { return this.options.percent ? 100 * (this.options.value / this.options.maxValue) : this.options.value }, option: function (i, e) { if (0 === arguments.length) return t.extend({}, this.options); if ("string" == typeof i) { if (e === a) return this.options[i]; switch (i) { case "value": e = Math.max(0, Math.min(e, this.options.maxValue)) } this.options[i] = e, this._draw("radius" === i ? this._prepareCanvas(this.canvas) : this.canvas) } return this } }, t.fn.circularStat = function (i) { var e = "string" == typeof i, o = Array.prototype.slice.call(arguments, 1), s = this; return e && "_" === i.charAt(0) ? s : (this.each(e ? function () { var e = t.data(this, "circular"), n = e && t.isFunction(e[i]) ? e[i].apply(e, o) : e; return n !== e && n !== a ? (s = n, !1) : void 0 } : function () { t.data(this, "circular") || t.data(this, "circular", new n(this, i)) }), s) }, t(function () { t("[data-provide=circular]").each(function () { var i = t(this); i.circularStat(i.data()) }) }) }(jQuery, window, document) } function HeaderVeri() { $.ajax({ dataType: "json", url: "Handlers/GenelUstVeri.ashx", async: !0, cache: !0, success: function (t) { var i, e = t.TurkiyeGeneli, a = e.Sandik.GecerliOy, n = (100 * e.Sandik.AcilanSandik / e.Sandik.ToplamSandik).toFixed(2); n = n >= 100 ? 100 : n, $("#CircularOrani1").html(""), $("#CircularOrani1").prepend("<span class='AcilanSandikLokasyon' data-provide='circular' data-fill-color='rgb(41, 89, 213)' data-value='" + n + "' data-radius='45' data-percent='true' data-thickness='17'></span>"), CanvasCizme(), $("#ililcetoplamsandiksayi").text(parseInt(e.Sandik.ToplamSandik)).number(!0, 0), $("#ililceacilansandiksayi").text(parseInt(e.Sandik.AcilanSandik)).number(!0, 0), $("#ililcetoplamsecmensayi").text(parseInt(e.Sandik.ToplamSecmen)).number(!0, 0), $("#ililcekullanilanoy").text(parseInt(e.Sandik.KullanilanOy)).number(!0, 0), $("#ililceacilansandikorani").text("% " + n), $("#ililcegecerlioy").text(parseInt(e.Sandik.GecerliOy)).number(!0, 0); var o = e.Sonuclar.Parti, s = 0, r = 0, l = "0", c = 0; o.sort(function (t, i) { return i.Oy - t.Oy }); for (var d = 0, u = 0; u < o.length; u++) 4 > d && "0" != o[u].No ? ($("#" + u + "_Sonuc > .MilletSayisi > span").text(o[u].MilletVekiliSayisi), l = "0" == o[u].Oy ? "0" : o[u].No, $("#" + u + "_Footer_Logo").attr("src", "../images/logo" + l + ".png"), i = (100 * o[u].Oy / a).toFixed(2), i = i >= 100 ? 100 : i, i = "0" == a ? "0.00" : i, $("#" + u + "_Sonuc > .footerSonuc").text("% " + i), c += parseFloat(i), d++) : (r += parseInt(o[u].MilletVekiliSayisi), s += parseInt(o[u].Oy)); $("#Besinci_Sonuc > .MilletSayisi > span").text(isNaN(r) ? "-" : r), l = "0", $("#Besinci_Footer_Logo").attr("src", "../images/logo" + l + ".png"), i = (100 - c).toFixed(2), i = i >= 100 ? 100 : i, i = "0" == a ? "0.00" : i, $("#Besinci_Sonuc > .footerSonuc").text("% " + i) } }) } function FiltrelemeYap(t) { return "-" == t ? ($("[type='search']").val(""), void $("[type='search']").trigger("keydown")) : ($("[type='search']").val(""), $("[type='search']").val(t), void $("[type='search']").trigger("keydown")) } function AjaxCalls() { "0" == SeciliLocation ? (GenelVeri(), DunyaHarita1()) : "1" == SeciliLocation && (GenelVeri(), DunyaHarita1()), setTimeout(function () { AjaxCalls() }, TekrarSuresi) } function DunyaHarita() { var t = [], i = "{"; $.ajax({ type: "GET", url: "Handlers/YurtDisiHarita.ashx", success: function (e) { var a = JSON.parse(e); $.each(a, function (e, a) { renk = PartiRenkler[a.Kod][1], i += '"' + a.Id + '" : "' + renk + '",'; var n = { ad: PartiRenkler[a.Kod][0], renk: PartiRenkler[a.Kod][1] }; "0" != a.Kod && JSON.stringify(t).indexOf(n.ad) < 0 && t.push(n) }), t.sort(function (t, i) { var e = t.ad, a = i.ad; return a > e ? -1 : e > a ? 1 : 0 }), $("#wmap div.MapLogo2").remove(), $("#wmap").prepend("<div class='MapLogo2'></div>"), $("#dunyalegends").html(""), $.each(t, function (t, i) { $("#dunyalegends").append("<div><div style='background:" + i.renk + "' ></div><div>" + i.ad + "</div></div>") }), i = i.substring(0, i.length - 1), i += "}", i = JSON.parse(i), $("#wmap").vectorMap({ map: "world_en", backgroundColor: "transparent", color: "#FFFFFF", hoverOpacity: .6, selectedColor: "#666666", enableZoom: !1, values: i, onRegionClick: function (t, i) { i.indexOf("*") <= -1 && ($("#Sehirler").val(i), SeciliLocation = "1", SeciliId = i, PieChartOyOran(), $("#Location").text($("#Sehirler > option:selected").text())) }, scaleColors: ["#C8EEFF", "#006491"], normalizeFunction: "polynomial" }) } }) } function DunyaHarita1() { var t = [], i = "{"; $.ajax({ type: "GET", url: "Handlers/YurtDisiHarita.ashx", success: function (e) { var a = JSON.parse(e); $.each(a, function (e, a) { renk = PartiRenkler[a.Kod][1], i += '"' + a.Id + '" : "' + renk + '",'; var n = { ad: PartiRenkler[a.Kod][0], renk: PartiRenkler[a.Kod][1] }; JSON.stringify(t).indexOf(n.ad) < 0 && t.push(n) }), t.sort(function (t, i) { var e = t.ad, a = i.ad; return a > e ? -1 : e > a ? 1 : 0 }), $("#dunyalegends").html(""), $.each(t, function (t, i) { $("#dunyalegends").append("<div><div style='background:" + i.renk + "' ></div><div>" + i.ad + "</div></div>") }), i = i.substring(0, i.length - 1), i += "}", i = JSON.parse(i), $("#wmap").vectorMap("set", "values", i) } }) } function GenelVeri() { $.ajax({ dataType: "json", url: "Handlers/YurtDisi.ashx", async: !0, cache: !0, success: function (t) { JsonVeri = t, PieChartOyOran(), HeaderVeri() } }) } function PieChartOyOran() { var t, i = 0; "0" == SeciliLocation ? (t = JsonVeri[0].GumrukGeneli.Partiler, i = JsonVeri[0].GumrukGeneli.GecerliOy) : "1" == SeciliLocation && $.each(JsonVeri[0].Ulkeler, function (e, a) { a.Id == SeciliId && (t = a.Partiler, $(".LokasyonDetay").slideDown("slow"), LokasyonDetay(a), i = a.GecerliOy) }); var e = []; t.sort(function (t, i) { return parseInt(i.oy) - parseInt(t.oy) }); var a = 0, n = 0; if ($.each(t, function (t, o) { 4 > a && 0 != parseInt(o.oy) && "0" != o.No && (e.push({ country: PartiRenkler[o.No][0], value: (100 * parseInt(o.oy) / i).toFixed(2), color: PartiRenkler[o.No][1] }), n += parseFloat((100 * parseInt(o.oy) / i).toFixed(2)), a++) }), window.location.href.indexOf("YurtDisiENG.html") > -1) var o = "Others"; else if (window.location.href.indexOf("YurtDisiAR.html") > -1) var o = "غيرها"; else var o = "Diğer"; e.push({ country: o, value: (100 - n).toFixed(2), color: "#4c4c3f" }); AmCharts.makeChart("piechartoyoran", { type: "pie", outlineAlpha: .8, depth3D: 11, startEffect: !0, angle: 30, startDuration: .7, startEffect: "bounce", outlineThickness: 2, legend: { markerType: "circle", position: "bottom", marginLeft: 80, valueWidth: 70, autoMargins: !1, switchable: !1, valueText: "[[percents]]%" }, labelsEnabled: !0, labelText: "[[title]]", dataProvider: e, valueField: "value", titleField: "country", colorField: "color", balloonText: "[[title]]<br><span style='font-size:14px'> ([[percents]]%)</span>" }) } var SeciliLocation = "0", SeciliId = "0", JsonVeri, TekrarSuresi = 6e4, ArananKelime = "", SeciliRow; $(document).ready(function () { setTimeout(function () { window.location.href = document.URL }, 6e5), AjaxCalls(), DunyaHarita(), $("#SehirHarfler > div").click(function () { $("#SehirHarfler > div").removeClass("secili"), $(this).addClass("secili") }), $("#Sehirler").change(function () { SeciliLocation = 0 == $(this).val() ? "0" : "1", SeciliId = $(this).val(), $("#Location").text($("option:selected", this).text().toUpperCase()), $(".LokasyonDetay").slideDown("slow"), PieChartOyOran() }) });
