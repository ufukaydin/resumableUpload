function CanvasCizme() { !function (e, i, a, t) { function l(e, i) { arguments.length && this._init(e, i) } l.prototype = { defaults: { percent: !0, value: 0, maxValue: 100, radius: 32, thickness: 6, backFillColor: "rgb(199, 199, 199)", fillColor: "#e15656", centerFillColor: "#222", decimals: 0, retinaReady: !0 }, _init: function (i, a) { this.element = e(i), this.options = e.extend({}, this.defaults, a, this.element.data()), this.canvas = this._build(), this._draw(this._prepareCanvas(this.canvas)) }, _build: function () { var t = e("<span></span>"), l = a.createElement("canvas"); if (this.element.append(t.clone().addClass("digit-container")).append(t.clone().addClass("canvas-container").append(e(l))).addClass("circular-stat"), !l.getContext) { if ("undefined" == typeof i.G_vmlCanvasManager) return console.log("Your browser does not support HTML5 Canvas, or excanvas.js is missing on IE"), this.element.hide(), !1; l = i.G_vmlCanvasManager.initElement(l) } return l }, _getPixelRatio: function (e) { return (i.devicePixelRatio || 1) / (e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1) }, _prepareCanvas: function (e) { var i = 2 * this.options.radius, a = e.getContext("2d"), a = this._getPixelRatio(a); return e.width = e.height = i * a, a > 1 && (e.style.width = i + "px", e.style.height = i + "px"), e }, _draw: function (i) { var a = i.getContext("2d"), t = this._getPixelRatio(a), l = 2 * (this.options.value / this.options.maxValue) * Math.PI, n = i.width / 2, r = i.height / 2, o = this.options.radius, c = 100 != parseInt(this._getVal()) ? this._getVal().toFixed(2) : this._getVal(); a.save(), a.clearRect(0, 0, i.width, i.height), a.translate(n, r), a.scale(t, t), a.rotate(-Math.PI / 2), a.fillStyle = this.options.backFillColor, a.beginPath(), a.arc(0, 0, o, 0, 2 * Math.PI, !1), a.closePath(), a.fill(), a.fillStyle = this.options.fillColor, a.beginPath(), a.arc(0, 0, o, 0, l, !1), a.lineTo(0, 0), a.closePath(), a.fill(), a.fillStyle = this.options.centerFillColor, a.beginPath(), a.arc(0, 0, o - this.options.thickness, 0, 2 * Math.PI, !1), a.closePath(), a.fill(), a.restore(), e(".digit-container", this.element).css({ lineHeight: 2 * this.options.radius + "px" })[0].innerHTML = this.options.percent ? "<span>%" + c + "</span>" : "<span>" + c + "</span>/" + this.options.maxValue.toFixed(this.options.decimals) }, _getVal: function () { return this.options.percent ? 100 * (this.options.value / this.options.maxValue) : this.options.value }, option: function (i, a) { if (0 === arguments.length) return e.extend({}, this.options); if ("string" == typeof i) { if (a === t) return this.options[i]; switch (i) { case "value": a = Math.max(0, Math.min(a, this.options.maxValue)) } this.options[i] = a, this._draw("radius" === i ? this._prepareCanvas(this.canvas) : this.canvas) } return this } }, e.fn.circularStat = function (i) { var a = "string" == typeof i, n = Array.prototype.slice.call(arguments, 1), r = this; return a && "_" === i.charAt(0) ? r : (this.each(a ? function () { var a = e.data(this, "circular"), l = a && e.isFunction(a[i]) ? a[i].apply(a, n) : a; return l !== a && l !== t ? (r = l, !1) : void 0 } : function () { e.data(this, "circular") || e.data(this, "circular", new l(this, i)) }), r) }, e(function () { e("[data-provide=circular]").each(function () { var i = e(this); i.circularStat(i.data()) }) }) }(jQuery, window, document) } function HeaderVeri() { var e, i = JsonVeri.AA.TurkiyeGeneli, a = i.Sandik.KullanilanOy, t = (100 * i.Sandik.AcilanSandik / i.Sandik.ToplamSandik).toFixed(2); t = t >= 100 ? 100 : t, $("#CircularOrani1").html(""), $("#CircularOrani1").prepend("<span class='AcilanSandikLokasyon' data-provide='circular' data-fill-color='rgb(41, 89, 213)' data-value='" + t + "' data-radius='45' data-percent='true' data-thickness='17'></span>"), CanvasCizme(), $("#ililcetoplamsandiksayi").text(parseInt(i.Sandik.ToplamSandik).toLocaleString()), $("#ililceacilansandiksayi").text(parseInt(i.Sandik.AcilanSandik).toLocaleString()), $("#ililcetoplamsecmensayi").text(parseInt(i.Sandik.ToplamSecmen).toLocaleString()), $("#ililcekullanilanoy").text(parseInt(i.Sandik.KullanilanOy).toLocaleString()), $("#ililceacilansandikorani").text("% " + t), $("#ililcegecerlioy").text(parseInt(i.Sandik.GecerliOy).toLocaleString()); var l = i.Sonuclar.Parti; l.sort(function (e, i) { return i.Oy - e.Oy }), $("#Birinci_Sonuc > .MilletSayisi > span").text(l[0].MilletVekiliSayisi), $("#Birinci_Footer_Logo").attr("src", "../images/logo" + l[0].No + ".png"), e = (100 * l[0].Oy / a).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == a ? "0.00" : e, $("#Birinci_Sonuc > .footerSonuc").text("% " + e), $("#Ikinci_Sonuc > .MilletSayisi > span").text(l[1].MilletVekiliSayisi), $("#Ikinci_Footer_Logo").attr("src", "../images/logo" + l[1].No + ".png"), e = (100 * l[1].Oy / a).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == a ? "0.00" : e, $("#Ikinci_Sonuc > .footerSonuc").text("% " + e), $("#Ucuncu_Sonuc > .MilletSayisi > span").text(l[2].MilletVekiliSayisi), $("#Ucuncu_Footer_Logo").attr("src", "../images/logo" + l[2].No + ".png"), e = (100 * l[2].Oy / a).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == a ? "0.00" : e, $("#Ucuncu_Sonuc > .footerSonuc").text("% " + e), $("#Dorduncu_Sonuc > .MilletSayisi > span").text(l[3].MilletVekiliSayisi), $("#Dorduncu_Footer_Logo").attr("src", "../images/logo" + l[3].No + ".png"), e = (100 * l[3].Oy / a).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == a ? "0.00" : e, $("#Dorduncu_Sonuc > .footerSonuc").text("% " + e), $("#Besinci_Sonuc > .MilletSayisi > span").text(l[4].MilletVekiliSayisi), $("#Besinci_Footer_Logo").attr("src", "../images/logo" + l[4].No + ".png"), e = (100 * l[4].Oy / a).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == a ? "0.00" : e, $("#Besinci_Sonuc > .footerSonuc").text("% " + e) } function LokasyonDetay(e) { void 0 != e && ($("#L_Adi").text("2" == SeciliLocation ? $("#Sehirler option:selected").text() + "/" + e.Ad.toUpperCase() : e.Ad.toUpperCase()), $("#L_ToplamS").text(parseInt(e.Sandik.ToplamSandik).toLocaleString()), $("#L_AcilanS").text(parseInt(e.Sandik.AcilanSandik).toLocaleString()), $("#L_KullanilanOy").text(parseInt(e.Sandik.KullanilanOy).toLocaleString()), $("#L_GecerliOy").text(parseInt(e.Sandik.GecerliOy).toLocaleString())) } function AjaxCalls() { "0" == SeciliLocation ? GenelVeri() : "1" == SeciliLocation ? (GenelVeri(), SehirVeri()) : "2" == SeciliLocation && (GenelVeri(), SehirVeri()), setTimeout(function () { AjaxCalls() }, TekrarSuresi) } function GenelVeri() { $.ajax({ dataType: "json", url: "Handlers/GenelVeri.ashx", data: { GumrukDahil: GumrukCheck }, async: !0, cache: !0, success: function (e) { JsonVeri = e, HeaderVeri(), GridOlustur(), document.getElementById("OranRadio").checked ? PieChartOyOran() : PieChartMilletSayisi(), LineChart() } }) } function SehirVeri() { $.ajax({ dataType: "json", url: "Handlers/IlceVeri.ashx", data: { IlKodu: SeciliId }, async: !0, cache: !0, success: function (e) { JsonSehirVeri = e, MilletVekiliListe(), IlcelerListe(), IlcelerCombo(), document.getElementById("OranRadio").checked ? PieChartOyOran() : PieChartMilletSayisi() } }) } function HeaderVeri2() { $("#VeriNumber > span").text(""); var e = (100 * JsonVeri.AA.TurkiyeGeneli.Sandik.AcilanSandik / JsonVeri.AA.TurkiyeGeneli.Sandik.ToplamSandik).toFixed(2); e = e >= 100 ? "% 100" : "% " + e, $("#ToplamSandikSayisi").text(parseInt(JsonVeri.AA.TurkiyeGeneli.Sandik.ToplamSandik).toLocaleString()), $("#AcilanSandikSayisi").text(parseInt(JsonVeri.AA.TurkiyeGeneli.Sandik.AcilanSandik).toLocaleString()), $("#ToplamSecmen").text(parseInt(JsonVeri.AA.TurkiyeGeneli.Sandik.ToplamSecmen).toLocaleString()); var i = 100 * JsonVeri.AA.TurkiyeGeneli.Sandik.KullanilanOy / JsonVeri.AA.TurkiyeGeneli.Sandik.AcilanSandikSecmenSayisi; i = i >= 100 ? "% " + i : "% " + i.toFixed(2), $("#KatilimOrani").text(i), $("#KullanilanOy").text(parseInt(JsonVeri.AA.TurkiyeGeneli.Sandik.KullanilanOy).toLocaleString()), $("#GecerliOy").text(parseInt(JsonVeri.AA.TurkiyeGeneli.Sandik.GecerliOy).toLocaleString()) } function PieChartOyOran() { document.getElementById("OranRadio").checked = !0, document.getElementById("MSayiRadio").checked = !1; var e; "0" == SeciliLocation ? e = JsonVeri.AA.TurkiyeGeneli.Sonuclar.Parti : "1" == SeciliLocation ? $.each(JsonVeri.AA.IlSonuclari.Il, function (i, a) { a.Kod == SeciliId && (e = a.Sonuclar.Parti, LokasyonDetay(a)) }) : "2" == SeciliLocation && $.each(JsonSehirVeri.Il.Ilce, function (i, a) { a.Kod == SeciliIlceId && (e = a.Sonuclar.Parti, LokasyonDetay(a)) }); var i = [], a = 0; $.each(e, function (e, t) { 0 != parseInt(t.Oy) ? i.push("0" == t.No ? { country: "Diğer", value: parseInt(t.Oy), color: "#F8FF01" } : { country: PartiRenkler[t.No][0], value: parseInt(t.Oy), color: PartiRenkler[t.No][1] }) : 0 == a && (i.push({ country: "-", value: "100", color: "#d4d6d5" }), a++) }); AmCharts.makeChart("piechartoyoran", { type: "pie", outlineAlpha: .8, depth3D: 11, startEffect: !0, angle: 30, startDuration: .7, startEffect: "bounce", outlineThickness: 2, legend: { markerType: "circle", position: "bottom", marginLeft: 80, valueWidth: 70, autoMargins: !1, switchable: !1 }, labelsEnabled: !0, groupPercent: 3, groupedTitle: "Diğer", groupedColor: "#F8FF01", labelText: "[[title]]", dataProvider: i, valueField: "value", titleField: "country", colorField: "color", balloonText: "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>" }) } function PieChartMilletSayisi() { document.getElementById("OranRadio").checked = !1, document.getElementById("MSayiRadio").checked = !0; var e; "0" == SeciliLocation ? e = JsonVeri.AA.TurkiyeGeneli.Sonuclar.Parti : "1" == SeciliLocation ? $.each(JsonVeri.AA.IlSonuclari.Il, function (i, a) { a.Kod == SeciliId && (e = a.Sonuclar.Parti, LokasyonDetay(a)) }) : "2" == SeciliLocation && $.each(JsonSehirVeri.Il.Ilce, function (i, a) { a.Kod == SeciliIlceId && (e = a.Sonuclar.Parti, LokasyonDetay(a)) }); var i = [], a = 0; $.each(e, function (e, t) { 0 != parseInt(t.MilletVekiliSayisi) ? i.push("0" == t.No ? { country: "Diğer", value: parseInt(t.Oy), color: "#F8FF01" } : { country: PartiRenkler[t.No][0], value: parseInt(t.MilletVekiliSayisi), color: PartiRenkler[t.No][1] }) : 0 == a && (i.push({ country: "-", value: "100", color: "#d4d6d5" }), a++) }); AmCharts.makeChart("piechartoyoran", { type: "pie", outlineAlpha: .8, depth3D: 11, startEffect: !0, angle: 30, startDuration: .7, startEffect: "bounce", outlineThickness: 2, legend: { markerType: "circle", position: "bottom", marginLeft: 80, valueWidth: 70, autoMargins: !1, switchable: !1 }, labelsEnabled: !0, groupPercent: 3, groupedTitle: "Diğer", groupedColor: "#F8FF01", labelText: "[[title]]", dataProvider: i, valueField: "value", titleField: "country", colorField: "color", balloonText: "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>" }) } function MilletVekiliListe() { $(".ListeNumara,.Partiler,.PartiListe").html(""); for (var e = 1; e <= JsonSehirVeri.Il.MilletVekiliSayisi; e++) $(".ListeNumara").append("<div count='" + e + "'>" + e + " )</div>"); $.each(JsonVeri.AA.IlSonuclari.Il, function (e, i) { if (i.Kod == SeciliId) { var a = i.Kod, t = i.Sonuclar.Parti; t.sort(function (e, i) { return parseInt(i.MilletVekiliSayisi) - parseInt(e.MilletVekiliSayisi) }); var l = 0, n = []; $.each(t, function (e, i) { if (parseInt(i.MilletVekiliSayisi) > 0) { Count_MS = 0, n.push(i.No); var t = parseInt(i.MilletVekiliSayisi); $(".Partiler").append("<span><img id='Logo_'" + l + " src='../images/logo" + i.No + ".png' /> <div id='Parti" + l + "'>" + i.Adi + "</div> </span>"), $(".PartiListe").append("<div id='PartiListe_" + l + "'></div>"), MilletVekili[0]["Liste_" + a][i.No].forEach(function (e) { $("#PartiListe_" + l).append("<div class='" + (t > Count_MS ? "secili" : "") + "' satirTip='" + (Count_MS % 2 == 0 ? "cift" : "tek") + "' count='" + Count_MS + "'>" + e + "</div>"), Count_MS++ }), l++ } }), t.sort(function (e, i) { return parseInt(i.Oy) - parseInt(e.Oy) }), $.each(t, function (e, i) { if (n.indexOf(i.No) < 0 && 4 > l) { Count_MS = 0, n.push(i.No); var t = parseInt(i.MilletVekiliSayisi); $(".Partiler").append("<span><img id='Logo_'" + l + " src='../images/logo" + i.No + ".png' /><div id='Parti" + l + "'>" + i.Adi + "</div></span>"), $(".PartiListe").append("<div id='PartiListe_" + l + "'></div>"), MilletVekili[0]["Liste_" + a][i.No].forEach(function (e) { $("#PartiListe_" + l).append("<div class='" + (t > Count_MS ? "secili" : "") + "' satirTip='" + (Count_MS % 2 == 0 ? "cift" : "tek") + "' count='" + Count_MS + "'>" + e + "</div>"), Count_MS++ }), l++ } }) } }), "1" == SeciliLocation && $("#MilletSayisi").text("(" + JsonSehirVeri.Il.MilletVekiliSayisi + ")"), $("#Sehirler").val(SeciliId), $("#Ilceler").removeAttr("disabled"), $(".SehirlerGrid").hide(), $("#SehirListe").hide(), $("#SehirListe").slideDown(500) } function IlcelerListe() { $(".IlcelerListe").html(""), $.each(JsonSehirVeri.Il.Ilce.sort(function (e, i) { return e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? -1 : i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? 1 : 0 }), function (e, i) { var a = 100 * i.Sandik.AcilanSandik / i.Sandik.ToplamSandik; a = a >= 100 ? "% " + a : "% " + a.toFixed(2), $(".IlcelerListe").append("<div class='IlceRow' ilceid='" + i.Kod + "'><div>" + i.Ad + "</div><div>" + i.Sandik.ToplamSandik + "</div><div>" + i.Sandik.AcilanSandik + "</div><div>" + a + "</div></div>") }), $(".IlcelerListe > div").click(function () { $(".IlcelerListe > div").removeClass("secili"), $(this).addClass("secili"), SeciliIlceId = $(this).attr("ilceid"), $("#OranRadio").prop("checked", !0).parent().find("a:first").addClass("checked"), $("#MSayiRadio").prop("checked", !1).parent().find("a:first").removeClass("checked"), $(".PieChartSecim > div:nth-child(2)").css("opacity", "0.1"), PieChartOyOran(), $.each(JsonSehirVeri.Il.Ilce, function (e, i) { i.Kod == SeciliIlceId && (SeciliLocation = "2", LokasyonDetay(i)) }), $("#Ilceler").val(SeciliIlceId), $("#MilletSayisi").text(" / " + $("#Ilceler option:selected").text()) }), "2" == SeciliLocation && ($("#Ilceler").val(SeciliIlceId), $(".IlceRow[ilceid='" + SeciliIlceId + "']").addClass("secili")) } function IlcelerCombo() { var e = ""; e += "<option selected='selected' disabled style='display:none;'>İlçe Seçiniz</option>", $.each(JsonSehirVeri.Il.Ilce.sort(function (e, i) { return e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? -1 : i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? 1 : 0 }), function (i, a) { e += "<option value='" + a.Kod + "'>" + a.Ad + "</option>" }), $("#Ilceler").html(""), $("#Ilceler").prepend(e), "2" == SeciliLocation && $("#Ilceler").val(SeciliIlceId) } function GridOlustur() { $(".SehirlerGrid").hide(); var e = "15", i = "11", a = "14", t = "12"; if ("0" == SeciliLocation) { $("#SehirListe").hide(), $("#TurkiyeGrid").empty(); var l, n = [], r = 0, o = 0, c = 0, s = 0, d = 0, p = 0, u = 0, h = 0, S = 0, k = 0, y = 0, v = 0; $.each(JsonVeri.AA.IlSonuclari.Il, function (m, I) { r = 0, o = 0, c = 0, s = 0, d = 0, p = 0, u = 0, h = 0, S = 0, k = 0, y = 0, v = 0, l = parseFloat(I.Sandik.GecerliOy), $.each(I.Sonuclar.Parti, function (n, m) { m.No == e ? (r = parseFloat(m.Oy), S = m.MilletVekiliSayisi, d = 0 != l ? r / l : 0) : m.No == i ? (o = parseFloat(m.Oy), k = m.MilletVekiliSayisi, p = 0 != l ? o / l : 0) : m.No == a ? (c = parseFloat(m.Oy), y = m.MilletVekiliSayisi, u = 0 != l ? c / l : 0) : m.No == t && (s = parseFloat(m.Oy), v = m.MilletVekiliSayisi, h = 0 != l ? s / l : 0) }), n.push({ sehir: I.Ad, toplamsecmen: parseInt(I.Sandik.ToplamSecmen, 10), kullanilanoy: parseInt(I.Sandik.KullanilanOy, 10), gecerlioy: parseInt(I.Sandik.GecerliOy, 10), toplamsandik: parseInt(I.Sandik.ToplamSandik, 10), acilansandik: parseInt(I.Sandik.AcilanSandik, 10), akp_sayi: r, chp_sayi: c, mhp_sayi: o, hdp_sayi: s, akp_oran: (100 * d).toFixed(2) + "/" + S, chp_oran: (100 * u).toFixed(2) + "/" + y, mhp_oran: (100 * p).toFixed(2) + "/" + k, hdp_oran: (100 * h).toFixed(2) + "/" + v }) }); var m = new Backbone.Collection(n), I = [{ name: "sehir", label: "ŞEHİR", editable: !1, cell: "string" }, { name: "toplamsecmen", label: "TOPLAM SEÇMEN", editable: !1, cell: "integer" }, { name: "kullanilanoy", label: "KULLANILAN OY", editable: !1, cell: "integer" }, { name: "gecerlioy", label: "GEÇERLİ OY", editable: !1, cell: "integer" }, { name: "toplamsandik", label: "TOPLAM SANDIK", editable: !1, cell: "integer" }, { name: "acilansandik", label: "AÇILAN SANDIK", editable: !1, cell: "integer" }, { name: "akp_sayi", label: "", editable: !1, cell: "integer" }, { name: "chp_sayi", label: "", editable: !1, cell: "integer" }, { name: "mhp_sayi", label: "", editable: !1, cell: "integer" }, { name: "hdp_sayi", label: "", editable: !1, cell: "integer" }, { name: "akp_oran", label: "", editable: !1, cell: "string" }, { name: "chp_oran", label: "", editable: !1, cell: "string" }, { name: "mhp_oran", label: "", editable: !1, cell: "string" }, { name: "hdp_oran", label: "", editable: !1, cell: "string" }], f = new Backgrid.Grid({ columns: I, collection: m }); filter = new Backgrid.Extension.ClientSideFilter({ collection: m, fields: ["sehir", "id"] }), f.render().sort("sehir", "ascending"), $("#TurkiyeGrid").append(filter.render().el), $("#TurkiyeGrid").append(f.render().el), "" == !ArananKelime && ($("[type='search']").val(ArananKelime), filter.search()), RowSec(), $(window).scroll(moveScroll), $(".backgrid-filter").prepend("<i class='fa fa-search GridSearch'></i>"), $("[type='search']").attr("placeholder", "Arama"); var g = {}; $(".backgrid thead").prepend("<tr><th colspan='6'>SANDIK BİLGİLERİ</th><th colspan='4'>OY SAYILARI</th><th colspan='4'>OY ORANI/MİLLET VEKİLİ SAYILARI</th></tr>"), setTimeout(function () { $(".SehirlerGrid").show("blind", g, 1500) }, 500) } } function RowSec() { if (void 0 != SeciliRow) { var e = $(".backgrid > tbody > tr > td").filter(function () { return $(this).text() === SeciliRow }).parent(); e.children("td").addClass("secili") } } function moveScroll() { if (void 0 != $(".backgrid")) { var e = $(window).scrollTop(), i = $(".backgrid").offset().top, a = $("#bottom_anchor").offset().top; e > i && a > e ? (clone_table = $("#clone"), 0 == clone_table.length && (clone_table = $(".backgrid").clone(), clone_table.attr("id", "clone"), clone_table.css({ position: "fixed", top: 0, "background-color": "#F8F9F9" }), $("th", clone_table).css({ "background-color": "#F8F9F9" }), clone_table.width($(".backgrid").width()), $("#TurkiyeGrid").append(clone_table), $("#clone").css({ visibility: "hidden" }), $("#clone thead").css({ visibility: "visible" }))) : $("#clone").remove() } } function FiltrelemeYap(e) { return "-" == e ? ($("[type='search']").val(""), void $("[type='search']").trigger("keydown")) : ($("[type='search']").val(""), $("[type='search']").val(e), void $("[type='search']").trigger("keydown")) } function LineChart() { var e, i, a, t, l, n, r = [], o = [], c = 1, s = 1, d = 1, p = 1, u = 1, h = 1, S = 1, k = 1, y = 1, v = 1, m = 1, I = 1, f = 1, g = 1, _ = 1, A = 1; "0" == SeciliLocation ? (e = JsonVeri.AA.TurkiyeGeneli.Sandik.GecerliOy, $.each(JsonVeri.AA.TurkiyeGeneli.Sonuclar.Parti, function (e, i) { o.push({ No: i.No, Adi: i.Adi, Oy: i.Oy, MilletVekiliSayisi: i.MilletVekiliSayisi }) })) : $.each(JsonVeri.AA.IlSonuclari.Il, function (i, a) { a.Kod == SeciliId && (e = a.Sandik.GecerliOy, $.each(a.Sonuclar.Parti, function (e, i) { o.push({ No: i.No, Adi: i.Adi, Oy: i.Oy, MilletVekiliSayisi: i.MilletVekiliSayisi }) })) }), o.sort(function (e, i) { return i.Oy - e.Oy }), a = o[0].No, t = o[1].No, l = o[2].No, n = o[3].No, "lineSayi" == LineTip ? (f = o[0].Oy, g = o[1].Oy, _ = o[2].Oy, A = o[3].Oy) : "lineOran" == LineTip ? (f = (100 * o[0].Oy / e).toFixed(2), g = (100 * o[1].Oy / e).toFixed(2), _ = (100 * o[2].Oy / e).toFixed(2), A = (100 * o[3].Oy / e).toFixed(2)) : "lineMilletvekili" == LineTip && (f = o[0].MilletVekiliSayisi, g = o[1].MilletVekiliSayisi, _ = o[2].MilletVekiliSayisi, A = o[3].MilletVekiliSayisi), $.getJSON("http://secim2015cdn.blob.core.windows.net/json/EskiSecim_v7.json", function (e) { $.each(e.aaaa.Secim, function (e, i) { i.IlBolgeID == SeciliId && ("lineSayi" == LineTip ? (c = i[a], s = i[t], d = i[l], p = i[n]) : "lineOran" == LineTip ? (c = void 0 != i[a + "_O"] ? parseFloat(i[a + "_O"].replace(",", ".")).toFixed(2) : 0, s = void 0 != i[t + "_O"] ? parseFloat(i[t + "_O"].replace(",", ".")).toFixed(2) : 0, d = void 0 != i[l + "_O"] ? parseFloat(i[l + "_O"].replace(",", ".")).toFixed(2) : 0, p = void 0 != i[n + "_O"] ? parseFloat(i[n + "_O"].replace(",", ".")).toFixed(2) : 0) : "lineMilletvekili" == LineTip && (c = i[a + "_M"], s = i[t + "_M"], d = i[l + "_M"], p = i[n + "_M"])) }), $.each(e.bbbb.Secim, function (e, i) { i.IlBolgeID == SeciliId && ("lineSayi" == LineTip ? (u = i[a], h = i[t], S = i[l], k = i[n]) : "lineOran" == LineTip ? (u = void 0 != i[a + "_O"] ? parseFloat(i[a + "_O"].replace(",", ".")).toFixed(2) : 0, h = void 0 != i[t + "_O"] ? parseFloat(i[t + "_O"].replace(",", ".")).toFixed(2) : 0, S = void 0 != i[l + "_O"] ? parseFloat(i[l + "_O"].replace(",", ".")).toFixed(2) : 0, k = void 0 != i[n + "_O"] ? parseFloat(i[n + "_O"].replace(",", ".")).toFixed(2) : 0) : "lineMilletvekili" == LineTip && (u = i[a + "_M"], h = i[t + "_M"], S = i[l + "_M"], k = i[n + "_M"])) }), $.each(e.cccc.Secim, function (e, i) { i.IlBolgeID == SeciliId && ("lineSayi" == LineTip ? (y = i[a], v = i[t], m = i[l], I = i[n]) : "lineOran" == LineTip ? (y = void 0 != i[a + "_O"] ? parseFloat(i[a + "_O"].replace(",", ".")).toFixed(2) : 0, v = void 0 != i[t + "_O"] ? parseFloat(i[t + "_O"].replace(",", ".")).toFixed(2) : 0, m = void 0 != i[l + "_O"] ? parseFloat(i[l + "_O"].replace(",", ".")).toFixed(2) : 0, I = void 0 != i[n + "_O"] ? parseFloat(i[n + "_O"].replace(",", ".")).toFixed(2) : 0) : "lineMilletvekili" == LineTip && (y = i[a + "_M"], v = i[t + "_M"], m = i[l + "_M"], I = i[n + "_M"])) }), r.push({ date: 2002, BIR: c, IKI: s, UC: d, DORT: p }), r.push({ date: 2007, BIR: u, IKI: h, UC: S, DORT: k }), r.push({ date: 2011, BIR: y, IKI: v, UC: m, DORT: I }), r.push({ date: 2015, BIR: f, IKI: g, UC: _, DORT: A }), i = new AmCharts.AmSerialChart, i.dataProvider = r, i.categoryField = "date"; var o = i.categoryAxis; o.axisColor = "#DADADA"; var C = new AmCharts.ValueAxis; C.axisColor = "white", C.axisThickness = 3, C.gridAlpha = .1, C.gridCount = 15, C.autoGridCount = !1, i.addValueAxis(C); var O = new AmCharts.AmGraph; O.valueAxis = C, O.title = PartiRenkler[a][0], O.lineColor = PartiRenkler[a][1], O.valueField = "BIR", O.bullet = "round", O.hideBulletsCount = 30, O.bulletBorderThickness = 1, i.addGraph(O); var L = new AmCharts.AmGraph; L.valueAxis = C, L.title = PartiRenkler[t][0], L.lineColor = PartiRenkler[t][1], L.valueField = "IKI", L.bullet = "round", L.hideBulletsCount = 30, L.bulletBorderThickness = 1, i.addGraph(L); var x = new AmCharts.AmGraph; x.valueAxis = C, x.title = PartiRenkler[l][0], x.lineColor = PartiRenkler[l][1], x.valueField = "UC", x.bullet = "round", x.hideBulletsCount = 30, x.bulletBorderThickness = 1, i.addGraph(x); var b = new AmCharts.AmGraph; b.valueAxis = C, b.title = PartiRenkler[n][0], b.lineColor = PartiRenkler[n][1], b.valueField = "DORT", b.bullet = "round", b.hideBulletsCount = 30, b.bulletBorderThickness = 1, i.addGraph(b); var F = new AmCharts.ChartCursor; F.cursorAlpha = .1, F.fullWidth = !0, F.selectWithoutZooming = !0, i.addChartCursor(F); var V = new AmCharts.AmLegend; V.marginLeft = 20, V.valueWidth = 70, i.addLegend(new Date), i.write("lineChart") }) } var JsonVeri, JsonHarita, JsonSehirVeri, JsonIlceVeri, TekrarSuresi = 6e4, SeciliLocation = "0", SeciliId = "0", SeciliIlceId = "0", GumrukCheck = "ok", SeciliRow, ArananKelime = "", LineTip = "lineOran"; $(document).ready(function () { AjaxCalls(), $("#SehirHarfler > div").click(function () { $("#SehirHarfler > div").removeClass("secili"), $(this).addClass("secili") }), $("#Sehirler").change(function () { SeciliLocation = 0 == $(this).val() ? "0" : "1", SeciliId = $(this).val(), LineChart(), $(".PieChartSecim > div:nth-child(2)").css("opacity", "1"), "0" != SeciliLocation ? (SehirVeri(), LokasyonDetay(), $(".LokasyonDetay").slideDown("slow")) : (GridOlustur(), $(".LokasyonDetay").slideUp("slow"), $("#L_Adi").text(""), $("#Ilceler").attr("disabled", "disabled")) }), $("#Ilceler").change(function () { SeciliLocation = "2", SeciliIlceId = $(this).val(), $("#OranRadio").prop("checked", !0).parent().find("a:first").addClass("checked"), $("#MSayiRadio").prop("checked", !1).parent().find("a:first").removeClass("checked"), $(".PieChartSecim > div:nth-child(2)").css("opacity", "0.1"), PieChartOyOran(), $(".IlcelerListe > div").removeClass("secili"), $("[ilceid='" + SeciliIlceId + "']").addClass("secili") }), $("input.prettyCheckable").each(function () { $(this).prettyCheckable({ labelPosition: "right" }) }), $("#GumrukDahil").on("change", function () { this.checked ? (GumrukCheck = "ok", GenelVeri()) : (GumrukCheck = "not", GenelVeri()) }), $('[name="linechart"]').on("change", function () { LineTip = this.id, LineChart() }), $('[name="piechart"]').on("change", function () { "OranRadio" == this.id ? PieChartOyOran() : "2" != SeciliLocation ? PieChartMilletSayisi() : setTimeout(function () { $("#OranRadio").prop("checked", !0).parent().find("a:first").addClass("checked"), $("#MSayiRadio").prop("checked", !1).parent().find("a:first").removeClass("checked") }, 0) }) }); var filter;
