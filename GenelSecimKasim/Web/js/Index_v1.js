function CanvasCizme() { !function (e, i, t, a) { function l(e, i) { arguments.length && this._init(e, i) } l.prototype = { defaults: { percent: !0, value: 0, maxValue: 100, radius: 32, thickness: 6, backFillColor: "rgb(199, 199, 199)", fillColor: "#e15656", centerFillColor: "#222", decimals: 0, retinaReady: !0 }, _init: function (i, t) { this.element = e(i), this.options = e.extend({}, this.defaults, t, this.element.data()), this.canvas = this._build(), this._draw(this._prepareCanvas(this.canvas)) }, _build: function () { var a = e("<span></span>"), l = t.createElement("canvas"); if (this.element.append(a.clone().addClass("digit-container")).append(a.clone().addClass("canvas-container").append(e(l))).addClass("circular-stat"), !l.getContext) { if ("undefined" == typeof i.G_vmlCanvasManager) return console.log("Your browser does not support HTML5 Canvas, or excanvas.js is missing on IE"), this.element.hide(), !1; l = i.G_vmlCanvasManager.initElement(l) } return l }, _getPixelRatio: function (e) { return (i.devicePixelRatio || 1) / (e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1) }, _prepareCanvas: function (e) { var i = 2 * this.options.radius, t = e.getContext("2d"), t = this._getPixelRatio(t); return e.width = e.height = i * t, t > 1 && (e.style.width = i + "px", e.style.height = i + "px"), e }, _draw: function (i) { var t = i.getContext("2d"), a = this._getPixelRatio(t), l = 2 * (this.options.value / this.options.maxValue) * Math.PI, n = i.width / 2, r = i.height / 2, o = this.options.radius, c = 100 != parseInt(this._getVal()) ? this._getVal().toFixed(2) : this._getVal(); t.save(), t.clearRect(0, 0, i.width, i.height), t.translate(n, r), t.scale(a, a), t.rotate(-Math.PI / 2), t.fillStyle = this.options.backFillColor, t.beginPath(), t.arc(0, 0, o, 0, 2 * Math.PI, !1), t.closePath(), t.fill(), t.fillStyle = this.options.fillColor, t.beginPath(), t.arc(0, 0, o, 0, l, !1), t.lineTo(0, 0), t.closePath(), t.fill(), t.fillStyle = this.options.centerFillColor, t.beginPath(), t.arc(0, 0, o - this.options.thickness, 0, 2 * Math.PI, !1), t.closePath(), t.fill(), t.restore(), e(".digit-container", this.element).css({ lineHeight: 2 * this.options.radius + "px" })[0].innerHTML = this.options.percent ? "<span>%" + c + "</span>" : "<span>" + c + "</span>/" + this.options.maxValue.toFixed(this.options.decimals) }, _getVal: function () { return this.options.percent ? 100 * (this.options.value / this.options.maxValue) : this.options.value }, option: function (i, t) { if (0 === arguments.length) return e.extend({}, this.options); if ("string" == typeof i) { if (t === a) return this.options[i]; switch (i) { case "value": t = Math.max(0, Math.min(t, this.options.maxValue)) } this.options[i] = t, this._draw("radius" === i ? this._prepareCanvas(this.canvas) : this.canvas) } return this } }, e.fn.circularStat = function (i) { var t = "string" == typeof i, n = Array.prototype.slice.call(arguments, 1), r = this; return t && "_" === i.charAt(0) ? r : (this.each(t ? function () { var t = e.data(this, "circular"), l = t && e.isFunction(t[i]) ? t[i].apply(t, n) : t; return l !== t && l !== a ? (r = l, !1) : void 0 } : function () { e.data(this, "circular") || e.data(this, "circular", new l(this, i)) }), r) }, e(function () { e("[data-provide=circular]").each(function () { var i = e(this); i.circularStat(i.data()) }) }) }(jQuery, window, document) } function LokasyonDetay(e) { void 0 != e && ($("#L_Adi").text("2" == SeciliLocation ? $("#Sehirler option:selected").text() + "/" + e.Ad.toUpperCase() : e.Ad.toUpperCase()), $("#L_ToplamS").text(parseInt(e.Sandik.ToplamSandik).toLocaleString()), $("#L_AcilanS").text(parseInt(e.Sandik.AcilanSandik).toLocaleString()), $("#L_KullanilanOy").text(parseInt(e.Sandik.KullanilanOy).toLocaleString()), $("#L_GecerliOy").text(parseInt(e.Sandik.GecerliOy).toLocaleString())) } function AjaxCalls() { "0" == SeciliLocation ? (GenelVeri(), HaritaVeri()) : "1" == SeciliLocation ? (GenelVeri(), HaritaVeri(), SehirVeri()) : "2" == SeciliLocation && (GenelVeri(), HaritaVeri(), SehirVeri()), setTimeout(function () { AjaxCalls() }, TekrarSuresi) } function GenelVeri() { $.ajax({ dataType: "json", url: "Handlers/GenelVeri.ashx", data: { GumrukDahil: GumrukCheck }, async: !0, cache: !0, success: function (e) { JsonVeri = e, HeaderVeri(), GridOlustur(), document.getElementById("OranRadio").checked ? PieChartOyOran() : PieChartMilletSayisi() } }) } function HaritaVeri() { $.ajax({ dataType: "json", url: "Handlers/HaritaVeri.ashx", async: !0, cache: !0, data: { GumrukDahil: GumrukCheck }, success: function (e) { JsonHarita = e, TurkiyeHarita() } }) } function SehirVeri() { $.ajax({ dataType: "json", url: "Handlers/IlceVeri.ashx", data: { IlKodu: SeciliId }, async: !0, cache: !0, success: function (e) { JsonSehirVeri = e, MilletVekiliListe(), IlcelerListe(), IlcelerCombo(), document.getElementById("OranRadio").checked ? PieChartOyOran() : PieChartMilletSayisi() } }) } function HeaderVeri() { var e, i = JsonVeri.AA.TurkiyeGeneli, t = i.Sandik.KullanilanOy, a = (100 * i.Sandik.AcilanSandik / i.Sandik.ToplamSandik).toFixed(2); a = a >= 100 ? 100 : a, $("#CircularOrani1").html(""), $("#CircularOrani1").prepend("<span class='AcilanSandikLokasyon' data-provide='circular' data-fill-color='rgb(41, 89, 213)' data-value='" + a + "' data-radius='45' data-percent='true' data-thickness='17'></span>"), CanvasCizme(), $("#ililcetoplamsandiksayi").text(parseInt(i.Sandik.ToplamSandik).toLocaleString()), $("#ililceacilansandiksayi").text(parseInt(i.Sandik.AcilanSandik).toLocaleString()), $("#ililcetoplamsecmensayi").text(parseInt(i.Sandik.ToplamSecmen).toLocaleString()), $("#ililcekullanilanoy").text(parseInt(i.Sandik.KullanilanOy).toLocaleString()), $("#ililceacilansandikorani").text("% " + a), $("#ililcegecerlioy").text(parseInt(i.Sandik.GecerliOy).toLocaleString()); var l = i.Sonuclar.Parti; l.sort(function (e, i) { return i.Oy - e.Oy }), $("#Birinci_Sonuc > .MilletSayisi > span").text(l[0].MilletVekiliSayisi), $("#Birinci_Footer_Logo").attr("src", "../images/logo" + l[0].No + ".png"), e = (100 * l[0].Oy / t).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == t ? "0.00" : e, $("#Birinci_Sonuc > .footerSonuc").text("% " + e), $("#Ikinci_Sonuc > .MilletSayisi > span").text(l[1].MilletVekiliSayisi), $("#Ikinci_Footer_Logo").attr("src", "../images/logo" + l[1].No + ".png"), e = (100 * l[1].Oy / t).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == t ? "0.00" : e, $("#Ikinci_Sonuc > .footerSonuc").text("% " + e), $("#Ucuncu_Sonuc > .MilletSayisi > span").text(l[2].MilletVekiliSayisi), $("#Ucuncu_Footer_Logo").attr("src", "../images/logo" + l[2].No + ".png"), e = (100 * l[2].Oy / t).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == t ? "0.00" : e, $("#Ucuncu_Sonuc > .footerSonuc").text("% " + e), $("#Dorduncu_Sonuc > .MilletSayisi > span").text(l[3].MilletVekiliSayisi), $("#Dorduncu_Footer_Logo").attr("src", "../images/logo" + l[3].No + ".png"), e = (100 * l[3].Oy / t).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == t ? "0.00" : e, $("#Dorduncu_Sonuc > .footerSonuc").text("% " + e), $("#Besinci_Sonuc > .MilletSayisi > span").text(l[4].MilletVekiliSayisi), $("#Besinci_Footer_Logo").attr("src", "../images/logo" + l[4].No + ".png"), e = (100 * l[4].Oy / t).toFixed(2), e = e >= 100 ? 100 : e, e = "0" == t ? "0.00" : e, $("#Besinci_Sonuc > .footerSonuc").text("% " + e) } function TurkiyeHarita() { var e = []; $("#map").hide(), $("#map").empty(), $("#haritaLegends").html(""); var i, t = new Array; r = Raphael("map"), r.setViewBox(0, 110, 1020, 600), r.setSize("750", "450"), $.each(JsonHarita, function (a, l) { function n(e) { "notSelected" == paths[t[this.id]].value && this.animate({ fill: "#A2A7AC", stroke: "#ffffff" }, 0), $("#tooltip").html(paths[t[this.id]].name.toUpperCase()), $("#tooltip").css("left", e.clientX).css("top", e.clientY + 10), $("#tooltip").show() } function o() { "notSelected" == paths[t[this.id]].value && this.animate({ fill: $("#" + this.node.id).attr("test"), stroke: "#ffffff" }, 0), $("#tooltip").hide() } paths[l.IlKod]; if (i = r.path(paths[l.IlKod].path), t[i.id] = l.IlKod, void 0 != paths[l.IlKod].county) { var c, s = (l.IlKod, paths[l.IlKod].county); if (c = PartiRenkler[l.PartiKod][1], 0 != l.PartiKod) { var d = { ad: PartiRenkler[l.PartiKod][0], renk: PartiRenkler[l.PartiKod][1] }; JSON.stringify(e).indexOf(d.ad) < 0 && e.push(d) } try { "0" == s.substring(0, 1) ? s.substring(1, 2) == l.IlKod && (i.node.id = "Sehir" + s, i.attr({ "stroke-width": "1.1", fill: c, stroke: "#ffffff", title: paths[l.IlKod].name.toString().toUpperCase() }), $("#Sehir" + s).attr({ test: c }), $("#Sehir" + s).parent().removeAttr("title")) : s == l.IlKod && (i.node.id = "Sehir" + s, i.attr({ "stroke-width": "1.1", fill: c, stroke: "#ffffff", title: paths[l.IlKod].name.toString().toUpperCase() }), $("#Sehir" + s).attr({ test: c }), $("#Sehir" + s).parent().removeAttr("title")) } catch (p) { } } i.click(function () { $(".PieChartSecim > div:nth-child(2)").css("opacity", "1"), t[this.id] != SeciliId && (SeciliLocation = "1", SeciliId = t[this.id], SehirVeri(), $(".LokasyonDetay").slideDown("slow")), "notSelected" == paths[t[this.id]].value ? (this.animate({ fill: "#999" }, 0), paths[previouscountyselected].value = "notSelected", paths[t[this.id]].value = "isSelected", previouscountyselected = t[this.id], start || past == this || past.animate({ fill: $("#" + past.node.id).attr("test") }, 0), past = this, start = !1) : "isSelected" == paths[t[this.id]].value && this.animate({ fill: "#999" }, 0) }), i.mouseout(o), i.mouseover(n) }), e.sort(function (e, i) { var t = e.ad, a = i.ad; return a > t ? -1 : t > a ? 1 : 0 }), $.each(e, function (e, i) { $("#haritaLegends").append("<div><div style='background:" + i.renk + "' ></div><div>" + i.ad + "</div></div>") }), $("#map div.MapLogo").remove(), $("#map").prepend("<div class='MapLogo'></div>"), setTimeout(function () { $("#map").slideDown(1500) }, 500) } function PieChartOyOran() { document.getElementById("OranRadio").checked = !0, document.getElementById("MSayiRadio").checked = !1; var e; "0" == SeciliLocation ? e = JsonVeri.AA.TurkiyeGeneli.Sonuclar.Parti : "1" == SeciliLocation ? $.each(JsonVeri.AA.IlSonuclari.Il, function (i, t) { t.Kod == SeciliId && (e = t.Sonuclar.Parti, LokasyonDetay(t)) }) : "2" == SeciliLocation && $.each(JsonSehirVeri.Il.Ilce, function (i, t) { t.Kod == SeciliIlceId && (e = t.Sonuclar.Parti, LokasyonDetay(t)) }); var i = []; $.each(e, function (e, t) { 0 != parseInt(t.Oy) && i.push("0" == t.No ? { country: "Diğer", value: parseInt(t.Oy), color: "#F8FF01" } : { country: PartiRenkler[t.No][0], value: parseInt(t.Oy), color: PartiRenkler[t.No][1] }) }); AmCharts.makeChart("piechartoyoran", { type: "pie", outlineAlpha: .8, depth3D: 11, startEffect: !0, angle: 30, startDuration: .7, startEffect: "bounce", outlineThickness: 2, legend: { markerType: "circle", position: "bottom", marginLeft: 80, valueWidth: 70, autoMargins: !1, switchable: !1 }, labelsEnabled: !0, groupPercent: 3, groupedTitle: "Diğer", groupedColor: "#F8FF01", labelText: "[[title]]", dataProvider: i, valueField: "value", titleField: "country", colorField: "color", balloonText: "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>" }) } function PieChartMilletSayisi() { document.getElementById("OranRadio").checked = !1, document.getElementById("MSayiRadio").checked = !0; var e; "0" == SeciliLocation ? e = JsonVeri.AA.TurkiyeGeneli.Sonuclar.Parti : "1" == SeciliLocation && $.each(JsonVeri.AA.IlSonuclari.Il, function (i, t) { t.Kod == SeciliId && (e = t.Sonuclar.Parti, LokasyonDetay(t)) }); var i = []; $.each(e, function (e, t) { 0 != parseInt(t.MilletVekiliSayisi) && i.push("0" == t.No ? { country: "Diğer", value: parseInt(t.Oy), color: "#F8FF01" } : { country: PartiRenkler[t.No][0], value: parseInt(t.MilletVekiliSayisi), color: PartiRenkler[t.No][1] }) }); AmCharts.makeChart("piechartoyoran", { type: "pie", outlineAlpha: .8, depth3D: 11, startEffect: !0, angle: 30, startDuration: .7, startEffect: "bounce", outlineThickness: 2, legend: { markerType: "circle", position: "bottom", marginLeft: 80, valueWidth: 70, autoMargins: !1, switchable: !1 }, labelsEnabled: !0, groupPercent: 3, groupedTitle: "Diğer", groupedColor: "#F8FF01", labelText: "[[title]]", dataProvider: i, valueField: "value", titleField: "country", colorField: "color", balloonText: "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>" }) } function MilletVekiliListe() { $(".ListeNumara,.Partiler,.PartiListe").html(""); for (var e = 1; e <= JsonSehirVeri.Il.MilletVekiliSayisi; e++) $(".ListeNumara").append("<div count='" + e + "'>" + e + " )</div>"); $.each(JsonVeri.AA.IlSonuclari.Il, function (e, i) { if (i.Kod == SeciliId) { var t = i.Kod, a = i.Sonuclar.Parti; a.sort(function (e, i) { return parseInt(i.MilletVekiliSayisi) - parseInt(e.MilletVekiliSayisi) }); var l = 0, n = []; $.each(a, function (e, i) { if (parseInt(i.MilletVekiliSayisi) > 0) { Count_MS = 0, n.push(i.No); var a = parseInt(i.MilletVekiliSayisi); $(".Partiler").append("<span><img id='Logo_'" + l + " src='../images/logo" + i.No + ".png' /> <div id='Parti" + l + "'>" + i.Adi + "</div> </span>"), $(".PartiListe").append("<div id='PartiListe_" + l + "'></div>"), MilletVekili[0]["Liste_" + t][i.No].forEach(function (e) { $("#PartiListe_" + l).append("<div class='" + (a > Count_MS ? "secili" : "") + "' satirTip='" + (Count_MS % 2 == 0 ? "cift" : "tek") + "' count='" + Count_MS + "'>" + e + "</div>"), Count_MS++ }), l++ } }), a.sort(function (e, i) { return parseInt(i.Oy) - parseInt(e.Oy) }), $.each(a, function (e, i) { if (n.indexOf(i.No) < 0 && 4 > l) { Count_MS = 0, n.push(i.No); var a = parseInt(i.MilletVekiliSayisi); $(".Partiler").append("<span><img id='Logo_'" + l + " src='../images/logo" + i.No + ".png' /> <div id='Parti" + l + "'>" + i.Adi + "</div> </span>"), $(".PartiListe").append("<div id='PartiListe_" + l + "'></div>"), MilletVekili[0]["Liste_" + t][i.No].forEach(function (e) { $("#PartiListe_" + l).append("<div class='" + (a > Count_MS ? "secili" : "") + "' satirTip='" + (Count_MS % 2 == 0 ? "cift" : "tek") + "' count='" + Count_MS + "'>" + e + "</div>"), Count_MS++ }), l++ } }) } }), "1" == SeciliLocation && $("#MilletSayisi").text("(" + JsonSehirVeri.Il.MilletVekiliSayisi + ")"), $("#Sehirler").val(SeciliId), $("#Ilceler").removeAttr("disabled"), $(".SehirlerGrid").hide(), $("#SehirListe").hide(), $("#SehirListe").slideDown(500) } function IlcelerListe() { $(".IlcelerListe").html(""); var e = 0; $.each(JsonSehirVeri.Il.Ilce.sort(function (e, i) { return e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? -1 : i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? 1 : 0 }), function (i, t) { var a = 100 * t.Sandik.AcilanSandik / t.Sandik.ToplamSandik; a = a >= 100 ? "% " + a : "% " + a.toFixed(2), $(".IlcelerListe").append(e % 2 == 0 ? "<div class='IlceRow tek' ilceid='" + t.Kod + "'><div class='IlceAdi'>" + t.Ad + "</div><div class='Ilce_ToplamSandik'>" + t.Sandik.ToplamSandik + "</div><div class='Ilce_AcilanSandik'>" + t.Sandik.AcilanSandik + "</div><div class='Ilce_Oran'>" + a + "</div></div>" : "<div class='IlceRow cift' ilceid='" + t.Kod + "'><div class='IlceAdi'>" + t.Ad + "</div><div class='Ilce_ToplamSandik'>" + t.Sandik.ToplamSandik + "</div><div class='Ilce_AcilanSandik'>" + t.Sandik.AcilanSandik + "</div><div class='Ilce_Oran'>" + a + "</div></div>"), e++ }), $(".IlcelerListe > div").click(function () { $(".IlcelerListe > div").removeClass("secili"), $(this).addClass("secili"), SeciliIlceId = $(this).attr("ilceid"), $("#OranRadio").prop("checked", !0).parent().find("a:first").addClass("checked"), $("#MSayiRadio").prop("checked", !1).parent().find("a:first").removeClass("checked"), $(".PieChartSecim > div:nth-child(2)").css("opacity", "0.1"), PieChartOyOran(), $.each(JsonSehirVeri.Il.Ilce, function (e, i) { i.Kod == SeciliIlceId && (SeciliLocation = "2", LokasyonDetay(i)) }), $("#Ilceler").val(SeciliIlceId), $("#MilletSayisi").text(" / " + $("#Ilceler option:selected").text()) }), "2" == SeciliLocation && ($("#Ilceler").val(SeciliIlceId), $(".IlceRow[ilceid='" + SeciliIlceId + "']").addClass("secili")) } function IlcelerCombo() { var e = ""; e += "<option selected='selected' disabled style='display:none;'>İlçe Seçiniz</option>", $.each(JsonSehirVeri.Il.Ilce.sort(function (e, i) { return e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? -1 : i.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") < e.Ad.replace("Ç", "C").replace("İ", "I").replace("Ö", "O").replace("Ü", "U").replace("Ş", "S") ? 1 : 0 }), function (i, t) { e += "<option value='" + t.Kod + "'>" + t.Ad + "</option>" }), $("#Ilceler").html(""), $("#Ilceler").prepend(e), "2" == SeciliLocation && $("#Ilceler").val(SeciliIlceId) } function GridOlustur() { $(".SehirlerGrid").hide(); var e = "15", i = "11", t = "14", a = "12"; if ("0" == SeciliLocation) { $("#SehirListe").hide(), $("#TurkiyeGrid").empty(); var l, n = [], r = 0, o = 0, c = 0, s = 0, d = 0, p = 0, h = 0, u = 0, S = 0, k = 0, f = 0, v = 0; $.each(JsonVeri.AA.IlSonuclari.Il, function (y, m) { r = 0, o = 0, c = 0, s = 0, d = 0, p = 0, h = 0, u = 0, S = 0, k = 0, f = 0, v = 0, l = parseFloat(m.Sandik.GecerliOy), $.each(m.Sonuclar.Parti, function (n, y) { y.No == e ? (r = parseFloat(y.Oy), S = y.MilletVekiliSayisi, d = 0 != l ? r / l : 0) : y.No == i ? (o = parseFloat(y.Oy), k = y.MilletVekiliSayisi, p = 0 != l ? o / l : 0) : y.No == t ? (c = parseFloat(y.Oy), f = y.MilletVekiliSayisi, h = 0 != l ? c / l : 0) : y.No == a && (s = parseFloat(y.Oy), v = y.MilletVekiliSayisi, u = 0 != l ? s / l : 0) }), n.push({ sehir: m.Ad, toplamsecmen: parseInt(m.Sandik.ToplamSecmen, 10), kullanilanoy: parseInt(m.Sandik.KullanilanOy, 10), gecerlioy: parseInt(m.Sandik.GecerliOy, 10), toplamsandik: parseInt(m.Sandik.ToplamSandik, 10), acilansandik: parseInt(m.Sandik.AcilanSandik, 10), akp_sayi: r, chp_sayi: c, mhp_sayi: o, hdp_sayi: s, akp_oran: (100 * d).toFixed(2) + "/" + S, chp_oran: (100 * h).toFixed(2) + "/" + f, mhp_oran: (100 * p).toFixed(2) + "/" + k, hdp_oran: (100 * u).toFixed(2) + "/" + v }) }); var y = new Backbone.Collection(n), m = [{ name: "sehir", label: "ŞEHİR", editable: !1, cell: "string" }, { name: "toplamsecmen", label: "TOPLAM SEÇMEN", editable: !1, cell: "integer" }, { name: "kullanilanoy", label: "KULLANILAN OY", editable: !1, cell: "integer" }, { name: "gecerlioy", label: "GEÇERLİ OY", editable: !1, cell: "integer" }, { name: "toplamsandik", label: "TOPLAM SANDIK", editable: !1, cell: "integer" }, { name: "acilansandik", label: "AÇILAN SANDIK", editable: !1, cell: "integer" }, { name: "akp_sayi", label: "", editable: !1, cell: "integer" }, { name: "chp_sayi", label: "", editable: !1, cell: "integer" }, { name: "mhp_sayi", label: "", editable: !1, cell: "integer" }, { name: "hdp_sayi", label: "", editable: !1, cell: "integer" }, { name: "akp_oran", label: "", editable: !1, cell: "string" }, { name: "chp_oran", label: "", editable: !1, cell: "string" }, { name: "mhp_oran", label: "", editable: !1, cell: "string" }, { name: "hdp_oran", label: "", editable: !1, cell: "string" }], I = new Backgrid.Grid({ columns: m, collection: y }); filter = new Backgrid.Extension.ClientSideFilter({ collection: y, fields: ["sehir", "id"] }), I.render().sort("sehir", "ascending"), $("#TurkiyeGrid").append(filter.render().el), $("#TurkiyeGrid").append(I.render().el), "" == !ArananKelime && ($("[type='search']").val(ArananKelime), filter.search()), RowSec(), $(window).scroll(moveScroll), $(".backgrid-filter").prepend("<i class='fa fa-search GridSearch'></i>"), $("[type='search']").attr("placeholder", "Arama"), $(".backgrid thead").prepend("<tr><th colspan='6'>SANDIK BİLGİLERİ</th><th colspan='4'>OY SAYILARI</th><th colspan='4'>OY ORANI/MİLLET VEKİLİ SAYILARI</th></tr>"); var g = {}; setTimeout(function () { $(".SehirlerGrid").show("blind", g, 1500) }, 500) } } function moveScroll() { if (void 0 != $(".backgrid")) { var e = $(window).scrollTop(), i = $(".backgrid").offset().top, t = $("#bottom_anchor").offset().top; e > i && t > e ? (clone_table = $("#clone"), 0 == clone_table.length && (clone_table = $(".backgrid").clone(), clone_table.attr("id", "clone"), clone_table.css({ position: "fixed", top: 0, "background-color": "#F8F9F9" }), $("th", clone_table).css({ "background-color": "#F8F9F9" }), clone_table.width($(".backgrid").width()), $("#TurkiyeGrid").append(clone_table), $("#clone").css({ visibility: "hidden" }), $("#clone thead").css({ visibility: "visible" }))) : $("#clone").remove() } } function RowSec() { if (void 0 != SeciliRow) { var e = $(".backgrid > tbody > tr > td").filter(function () { return $(this).text() === SeciliRow }).parent(); e.children("td").addClass("secili") } } function FiltrelemeYap(e) { return "-" == e ? ($("[type='search']").val(""), void $("[type='search']").trigger("keydown")) : ($("[type='search']").val(""), $("[type='search']").val(e), void filter.search()) } var JsonVeri, JsonHarita, JsonSehirVeri, TekrarSuresi = 6e4, SeciliLocation = "0", SeciliId = "0", filter, SeciliIlceId = "0", GumrukCheck = "ok", SeciliRow, ArananKelime = "", previouscountyselected = 0, past = null, start = !0; $(document).ready(function () { AjaxCalls(), $("#SehirHarfler > div").click(function () { $("#SehirHarfler > div").removeClass("secili"), $(this).addClass("secili") }), $("#Sehirler").change(function () { SeciliLocation = 0 == $(this).val() ? "0" : "1", SeciliId = $(this).val(), $(".PieChartSecim > div:nth-child(2)").css("opacity", "1"), "0" != SeciliLocation ? (SehirVeri(), $(".LokasyonDetay").slideDown("slow")) : (GridOlustur(), $(".LokasyonDetay").slideUp("slow"), $("#L_Adi").text(""), $("#Ilceler").html("<option selected disabled style='display:none;'>İlçe Seçiniz</option>"), $("#Ilceler").attr("disabled", "disabled"), $("#Location").text("TÜRKİYE GENELİ"), $("#MilletSayisi").text("(550)")) }), $("#Ilceler").change(function () { SeciliLocation = "2", SeciliIlceId = $(this).val(), $("#OranRadio").prop("checked", !0).parent().find("a:first").addClass("checked"), $("#MSayiRadio").prop("checked", !1).parent().find("a:first").removeClass("checked"), $(".PieChartSecim > div:nth-child(2)").css("opacity", "0.1"), PieChartOyOran(), $("#Location").text($("#Sehirler option:selected").text()), $("#MilletSayisi").text(" / " + $("#Ilceler option:selected").text()), $(".IlcelerListe > div").removeClass("secili"), $("[ilceid='" + SeciliIlceId + "']").addClass("secili") }), $("input.prettyCheckable").each(function () { $(this).prettyCheckable({ labelPosition: "right" }) }), $("#GumrukDahil").on("change", function () { this.checked ? (GumrukCheck = "ok", GenelVeri(), HaritaVeri()) : (GumrukCheck = "not", GenelVeri(), HaritaVeri()) }), $('[name="piechart"]').on("change", function () { "OranRadio" == this.id ? PieChartOyOran() : "2" != SeciliLocation ? PieChartMilletSayisi() : setTimeout(function () { $("#OranRadio").prop("checked", !0).parent().find("a:first").addClass("checked"), $("#MSayiRadio").prop("checked", !1).parent().find("a:first").removeClass("checked") }, 0) }) });
